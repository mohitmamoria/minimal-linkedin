(()=>{function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(n,t,i){return(t=function(n){var t=function(n,t){if("object"!==e(n)||null===n)return n;var i=n[Symbol.toPrimitive];if(void 0!==i){var r=i.call(n,t||"default");if("object"!==e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"===e(t)?t:String(t)}(t))in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}var t="minimalism-settings",i=function(){return chrome.storage.sync.set(n({},t,{"nav:simplify":!0,"left_pane:hide":!0,"right_pane:hide":!0,"feed:simplify":!0,"floating_messaging:hide":!0,"nav:labels:hide":!1,"nav:home:hide":!1,"nav:my_network:hide":!1,"nav:jobs:hide":!1,"nav:messaging:hide":!1,"nav:notifications:hide":!1,"left_pane:profile:hide":!0,"left_pane:pages:hide":!0,"left_pane:extras:hide":!0,"right_pane:news:hide":!0,"right_pane:ads:hide":!0,"footer:hide":!0,"feed:ads:hide":!0,"feed:post_context:hide":!0,"feed:post_author:simplify":!0}))},r=function(e,n){var t=function(e,n){var t=Object.keys(e);return"string"==typeof n?t.filter((function(e){return e.startsWith(n)})):Array.isArray(n)?n:void 0}(e,n);t.forEach((function(n){handlers[n]&&((0,handlers[n])(e[n]),"nav:simplify"===n&&o(["nav:labels:hide","nav:home:hide","nav:my_network:hide","nav:jobs:hide","nav:messaging:hide","nav:notifications:hide"]))}))},o=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";chrome.storage.sync.get([t],(function(t){t["minimalism-settings"]?r(t["minimalism-settings"],n):i().then((function(){return e(n)}))}))},a=function(){var e,n,t;window.addEventListener("scroll",(e=function(){return o("feed")},n=500,t=Date.now(),function(){t+n-Date.now()<=0&&(e(),t=Date.now())}))};!function(){var e,n;chrome.runtime.onMessage.addListener((function(e){"settings:updated"===e.name&&o()})),a(),e=document.querySelector("head"),(n=document.createElement("link")).rel="stylesheet",n.type="text/css",n.href=chrome.runtime.getURL("css/minimal.css"),e.appendChild(n);var t=setInterval((function(){document.getElementsByClassName("boot-complete").length<1||(o(),clearInterval(t))}),200)}()})();